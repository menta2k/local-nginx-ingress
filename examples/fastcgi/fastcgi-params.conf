# FastCGI Parameters for PHP-FPM
# This file contains custom FastCGI parameters

# Document root for the application
fastcgi_param DOCUMENT_ROOT /var/www/html;

# Script filename with full path - map URL to actual file
fastcgi_param SCRIPT_FILENAME /var/www/html$fastcgi_script_name;

# Path info handling for URLs like /app/index.php/some/path
fastcgi_param PATH_INFO $fastcgi_path_info;
fastcgi_param PATH_TRANSLATED /var/www/html$fastcgi_path_info;

# Custom application parameters
fastcgi_param APP_ENV production;
fastcgi_param APP_DEBUG false;
fastcgi_param DB_HOST db;
fastcgi_param DB_NAME myapp;

# PHP-specific parameters
fastcgi_param PHP_ADMIN_VALUE "open_basedir=/var/www/html:/tmp";
fastcgi_param PHP_VALUE "session.save_path=/tmp";

# Security parameters
fastcgi_param HTTPS $https if_not_empty;
fastcgi_param HTTP_PROXY "";

# Custom headers
fastcgi_param HTTP_X_FORWARDED_PROTO $scheme;
fastcgi_param HTTP_X_FORWARDED_HOST $host;
fastcgi_param HTTP_X_FORWARDED_PORT $server_port;